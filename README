HOWTO maven (for people who used to use the 'ant' build)

Use maven 1.1 (_not_ 1.0, _not_ 2)

- ant jar -> maven jar, maven jar:install
maven -Dmaven.test.skip=true jar:install

- ant     -> maven

- ant bindist -> maven all:install, cd example-webapp; maven war:install


If e.g. mmbase.org is unreachable, add 'maven.offline=true' to maven-base/build.properties.
Sadly it is impossible to find out how to configure a timeout setting for that.

The equivalent for 'ant clean' is 'maven all:clean' to clean all applications, and 'maven clean' to only clean the present one.



HOWTO MAVEN2
--------------------------------------------------------------------------------

How to compile everything:

1. Clean, build and install the mmbase.jar in the local repository:

   mvn clean install

   [compare with: ant clean; ant jar]

2. Build and install all mmbase 'applications' in the local repository

   (cd applications; mvn clean install)

   [compare with: (cd application; ant clean; ant jars]

3. Build a simple war from the justly created artifacts.

   (cd example-webapp; mvn clean install)

   [compare with: ant bindist]

   This is 'the' distro. A simple and clean war. It's pom can server as example for you you could
   create your own webapp,


But normally you can just type 'mvn' in the directory of interest. It will use artifacts of
mmbase.org/snapshots if you didn't build them.



- If you have access to mmbase.org, you can also do

  mvn clean source:jar deploy ; (cd applications; mvn clean source:jar deploy) ; (cd example-webapp; mvn clean deploy)

  which will clean and deploy pretty much everything for a release, including source-jars.

  (use a ~/.m2/settings.xml containing this:
  <servers>
    <server>
      <id>mmbase</id>
       <username>mmweb</username>
     </server>
   </servers>

