Migration document:

Part: portlets dynamicforms
From version: 1.6
To version: 1.7


Execute the following steps below in the given order:

Name: Add a intro column and a body column in <prefix>_responseform table
Goal: add intro field and body field in dynamic form & copy description field to intro field & after copying, clean the description field, CMSC-1272
Type:  sql-script
--- Start script ---
ALTER TABLE mm_responseform ADD intro text;
ALTER TABLE mm_responseform ADD body mediumtext;
UPDATE mm_responseform SET intro = description;
UPDATE mm_responseform SET description = NULL;

ALTER TABLE live_responseform ADD intro text;
ALTER TABLE live_responseform ADD body mediumtext;
UPDATE live_responseform SET intro = description;
UPDATE live_responseform SET description = NULL;
--- End script ---
Exceptions/errors/other problems and what to do:
*
*
*

Name:  update the templete jsp
Goal:  change templates jsp to use intro & body field 
       fixed the styling, CMSC-1272
Type:  manual action
Steps:
1. update the following
<div class="kolombestel">
to 
<div class="responseform">

2. update the following
		<mm:field name="description">
			<mm:isnotempty><p><mm:write escape="none"/></p></mm:isnotempty>
		</mm:field>				
to 
	<mm:field name="intro">
		<mm:isnotempty><div class="intro"><mm:write escape="none"/></div></mm:isnotempty>
	</mm:field>
   
   <mm:field name="body">
      <mm:isnotempty><div class="body"><mm:write escape="none"/></div></mm:isnotempty>
   </mm:field>
 
3. update the following
<mm:isnotempty><p class="body"><mm:write escape="none"/></p></mm:isnotempty></mm:field>	
to 
<mm:isnotempty><div class="confirmation"><mm:write escape="none"/></div></mm:isnotempty></mm:field>
 
Exceptions/errors/other problems and what to do:
*
*
*
