<?xml version="1.0"?>
<!DOCTYPE wizard-schema PUBLIC "-//MMBase/DTD editwizard 1.0//EN" "http://www.mmbase.org/dtd/wizard-schema_1_0.dtd">
<wizard-schema id="empty">
    <title>Portal Pagina's Map Editor</title>

    <action type="load">
        <object type="portalpagesnodes"/>
        <relation destinationtype="simplecontents" role="related"/>
        <relation destinationtype="portalpagesnodes" role="childppnn"/>
        <relation destinationtype="paragraphs" role="posrel"/>
    </action>

    <action type="delete" />

    <lists>
        <optionlist include="config/option_list/active.xml" />
        <optionlist include="config/option_list/images_position.xml" />
        <optionlist include="config/option_list/boolean.xml" />
        <optionlist include="config/option_list/layout.xml" />
        <optionlist include="config/option_list/imagelayout.xml" />
    </lists>


    <form-schema id="step1">
        <title xml:lang="nl">Naam</title>
        <title xml:lang="en">Name</title>

        <field name="name" >
            <prompt>Naam</prompt>
        </field>
        <field name="active" ftype="enum" >
            <prompt xml:lang="en">Map zichtbaar maken</prompt>
            <prompt xml:lang="nl">Map zichtbaar maken</prompt>
            	<optionlist select="active" />
        </field>
        <field name="body" ftype="html">
            <prompt>Tekst</prompt>
        </field>
        <field name="order_number" >
            <prompt>Positie</prompt>
        </field>
        <list role="related" destination="simplecontents" minoccurs="0" maxoccurs="*">
									<title>Content</title>
									<!-- Show the 'item' in a list (the object) -->
									<item>
										<field name="title">
											<prompt>Content Titel</prompt>
											<description></description>
										</field>
										<field wizardname="config/portalpages/simplecontents" ftype="startwizard" />
									</item>
									<command name="startwizard" inline="true" wizardname="config/portalpages/simplecontents" objectnumber="new" />
									<command name="search" nodepath="simplecontents" fields="title" age="-1">
										<prompt>Search Content</prompt>
										<search-filter>
											<name>titel bevat</name>
											<search-fields>title</search-fields>
										</search-filter>
									</command>
									<action type="create">
										<relation destinationtype="simplecontents" role="related" >
										  <object type="simplecontents"/>
										</relation>
									</action>
									<action type="add">
										<relation destinationtype="simplecontents" role="related" />
									</action>
				</list>
        <list role="childppnn" destination="portalpagesnodes" minoccurs="0" maxoccurs="*">
									<title>Bijbehorende map</title>
									<!-- Show the 'item' in a list (the object) -->
									<item>
										<field name="name">
											<prompt>Naam</prompt>
											<description></description>
										</field>
										<field wizardname="config/portalpages/leafportalpagesnodes" ftype="startwizard" />
									</item>
									<command name="startwizard" inline="true" wizardname="config/portalpages/leafportalpagesnodes-origin" objectnumber="new" />
									<action type="create">
										<relation destinationtype="portalpagesnodes" role="childppnn" >
    										<object type="portalpagesnodes"/>
										</relation>
									</action>
				</list>
    </form-schema>
    <form-schema id="step2">
        <title xml:lang="nl">Alineas invoeren</title>
        <title xml:lang="en">Enter paragraphs</title>

        <field name="name" ftype="data"/>
        <list extends="config/paragraphs/add_paragraphs_posrel.xml"/>
    </form-schema>
</wizard-schema>
