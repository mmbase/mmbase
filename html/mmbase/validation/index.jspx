<html
    xmlns="http://www.w3.org/1999/xhtml"
    xmlns:jsp="http://java.sun.com/JSP/Page"
    xmlns:mm="http://www.mmbase.org/mmbase-taglib-2.0"
    xml:lang="en"
    lang="en">
  <jsp:directive.page import="org.mmbase.datatypes.*,java.util.*" />
  <jsp:text>&lt;!-- $Id: index.jspx,v 1.5 2007-08-10 10:12:30 michiel Exp $ --&gt;</jsp:text>
  <mm:content
      expires="600"
      unacceptable="CRIPPLE"
      type="application/xhtml+xml">
    <head>
      <title>MMBase DataType validation</title>
      <jsp:directive.include file="mmbase.jspxf" />

    </head>

    <body >
      <mm:url id="ok" write="false" page="/mmbase/style/images/ok.png" />
      <mm:url id="next" write="false" page="/mmbase/style/images/next.png" />
      <h1>MMBase DataType validation</h1>
      <p>
        This directory will contain the javascript and serverside components to enable client side
        validation of MMBase data types. This is work in progress. See 'datatypes' project.
      </p>
      <table>
      <jsp:scriptlet>

        Set list = new TreeSet(DataTypes.getSystemCollector().getDataTypes().keySet());
        Iterator i = list.iterator();
        while (i.hasNext()) {
           String key = (String) i.next();
           DataType dataType = DataTypes.getSystemCollector().getDataType(key);
      </jsp:scriptlet>
      <tr>
        <td>
          <jsp:expression>key</jsp:expression>
        </td>
        <td>
          <mm:link page="datatype.jspx">
            <mm:param name="datatype"><jsp:expression>key</jsp:expression></mm:param>
            <a href="${_}" class="navigate">
              <img src="${next}" alt="see" class="navigate" />
            </a>
          </mm:link>
        </td>
        <td>
          <mm:link page="test.jspx">
            <mm:param name="datatype"><jsp:expression>key</jsp:expression></mm:param>
            <a href="${_}" class="navigate">
              <img src="${next}" alt="test" class="navigate" />
            </a>
          </mm:link>
        </td>
        <td>
          <jsp:expression>dataType.getDescription(Locale.US)</jsp:expression>
        </td>
      </tr>
      <jsp:scriptlet>}</jsp:scriptlet>
      </table>
    </body>
  </mm:content>
</html>

