<?xml version="1.0" ?>
<datatypes
    xmlns="http://www.mmbase.org/xmlns/datatypes"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.mmbase.org/xmlns/datatypes http://www.mmbase.org/xmlns/datatypes.xsd">


  <datatype id="xml">
    <specialization id="mmxf">
      <setprocessor type="string">
        <class>org.mmbase.bridge.util.fields.xml.MmxfSetString</class>
      </setprocessor>
      <getprocessor type="string">
        <class>org.mmbase.bridge.util.fields.xml.MmxfGetString</class>
      </getprocessor>
    </specialization>

    <specialization id="html">
      <setprocessor type="string">
        <class>org.mmbase.bridge.util.fields.xml.HtmlSetString</class>
      </setprocessor>
      <getprocessor type="string">
        <class>org.mmbase.bridge.util.fields.xml.HtmlGetString</class>
      </getprocessor>
    </specialization>

    <specialization id="xmlfield">
      <setprocessor type="string">
        <class>org.mmbase.bridge.util.fields.xml.FieldSetString</class>
      </setprocessor>
      <getprocessor>
        <class>org.mmbase.bridge.util.fields.xml.FieldGetString</class>
      </getprocessor>
    </specialization>
  </datatype>


  <datatype id="string">
    <specialization id="lastmodifier">
      <unique value="false" />
      <setprocessor>
        <!-- only makes it unmodifiable -->
        <class>org.mmbase.bridge.util.fields.LastModifier</class>
      </setprocessor>
      <commitprocessor>
        <class>org.mmbase.bridge.util.fields.LastModifier</class>
      </commitprocessor>
    </specialization>
    <specialization id="md5password">
      <setprocessor>
        <class>org.mmbase.util.transformers.MD5</class>
      </setprocessor>
    </specialization>
    <specialization id="lowercaseuppercase">
      <!-- Silly example (also used to test)
           Strings are stored all lowercase, but showed all uppercase
      -->
      <setprocessor>
        <class>org.mmbase.util.transformers.LowerCaser</class>
      </setprocessor>
      <getprocessor>
        <class>org.mmbase.util.transformers.UpperCaser</class>
      </getprocessor>
    </specialization>
    <specialization id="index">
      <getprocessor>
        <class>org.mmbase.bridge.util.fields.GetIndex</class>
      </getprocessor>
    </specialization>
    <specialization id="dutch-zipcode">
      <pattern value="[0-9]{4}\s[A-Z]{2}" />
    </specialization>
  </datatype>

  <datatype id="datetime">
    <pattern value="yyyy-MM-dd HH:mm" />
    <pattern xml:lang="nl-NL" value="dd MMMM yyyy HH:mm" />
    <getprocessor type="string">
      <class>org.mmbase.bridge.util.fields.FormatDateTime</class>
    </getprocessor>

    <specialization id="lastmodified">
      <setprocessor>
        <class>org.mmbase.bridge.util.fields.LastModified</class>
      </setprocessor>
      <commitprocessor>
        <class>org.mmbase.bridge.util.fields.LastModified</class>
      </commitprocessor>
    </specialization>


    <specialization id="time">
      <default value="100" />
      <pattern value="HH:mm:ss" />
      <getprocessor type="string">
        <class>org.mmbase.bridge.util.fields.FormatDateTime</class>
      </getprocessor>
    </specialization>

    <specialization id="date">
      <default value="now" />
      <pattern value="yyyy-MM-dd" />
      <pattern xml:lang="nl-NL" value="dd MMMM yyyy" />
      <getprocessor type="string">
        <class>org.mmbase.bridge.util.fields.FormatDateTime</class>
      </getprocessor>
    </specialization>

    <specialization id="20th-century" base="date">
      <!-- Silly example (also used to test)
           Allow only dates from the previous century..
      -->
      <minInclusive value="1900-01-01" precision="days" />
      <maxExclusive value="2000-01-01" precision="days" />
    </specialization>

    <specialization id="birthdate" base="date">
      <!-- need better date-parser to make this work -->
      <maxInclusive value="now" precision="days" />
    </specialization>

    <specialization id="living-birthdate" base="date">
      <!-- need better date-parser to make thing work -->
      <minInclusive value="now - 140 year" precision="days" />
      <maxInclusive value="now" precision="days" />
    </specialization>


  </datatype>

  <datatype id="long">

    <specialization id="duration">
      <!-- I have no idea how to do this -->
    </specialization>
  </datatype>

  <datatype id="boolean">
    <enumeration resource="org.mmbase.bridge.util.fields.resources.boolean.truefalse" />
    <specialization id="yesno">
      <enumeration resource="org.mmbase.bridge.util.fields.resources.boolean.yesno" />
    </specialization>
    <specialization id="onoff">
      <enumeration resource="org.mmbase.bridge.util.fields.resources.boolean.onoff" />
    </specialization>
  </datatype>

  <datatype id="integer">
    <specialization id="dirs">
      <enumeration resource="org.mmbase.bridge.jsp.taglib.typehandler.resources.dirs" />
    </specialization>
    <specialization id="spells">
      <!-- example to test -->
      <enumeration value="1" xml:lang="nl" display="hokus pokus" />
      <enumeration value="2" xml:lang="nl" display="simsalabim" />
      <enumeration value="3" xml:lang="nl" display="pilatus pas" />
      <enumeration value="2" xml:lang="en" display="simsalabim" />
      <enumeration value="3" xml:lang="en" display="pilatus pas" />
      <enumeration value="1" xml:lang="en" display="hocus pocus" />
    </specialization>
  </datatype>

  <datatype id="byte">
    <specialization id="checksum">
      <commitprocessor>
        <class>org.mmbase.util.transformers.ChecksumFactory</class>
      </commitprocessor>
    </specialization>
  </datatype>

  <datatype id="node">
    <specialization id="typedef">
      <query type="typedef" xmlns="http://www.mmbase.org/xmlns/searchquery" />
    </specialization>
  </datatype>

</datatypes>
