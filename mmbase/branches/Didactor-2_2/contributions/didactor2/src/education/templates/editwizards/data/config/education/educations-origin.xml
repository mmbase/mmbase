<?xml version="1.0"?>
<!DOCTYPE wizard-schema PUBLIC "-//MMBase/DTD editwizard 1.0//EN" "http://www.mmbase.org/dtd/wizard-schema_1_0.dtd"
[
   <!ENTITY extra_loads SYSTEM "extra_loads.xml">
   <!ENTITY extra_steps SYSTEM "extra_steps.xml">
   <!ENTITY extra_schemas SYSTEM "extra_schemas.xml">
   <!ENTITY extra_lists SYSTEM "extra_lists.xml">
]>
<wizard-schema id="empty">
    <title xml:lang="nl">Opleiding Editor</title>
    <title xml:lang="en">Education Editor</title>

    <action type="create">
        <object type="educations">
          <relation destination="$origin" role="classrel" createdir="source"/>
          <field name="showtitle">1</field>
        </object>
    </action>

    <action type="load">
        <relation destination="providers" role="related" />
        <relation destination="classes" role="classrel" />
        <relation destination="news" role="related" />
        <relation destination="learnblocks" role="posrel" />
        <relation destination="people" role="rolerel">
          <object type="people">
            <relation destination="roles" role="related">
              <object type="roles"/>
            </relation>
          </object>
        </relation>
        <relation destination="paragraphs" role="posrel">
           <object>
              <relation destination="attachments" role="posrel" />
              <relation destination="images" role="pos2rel" />
              <relation destination="urls" role="posrel" />
           </object>
        </relation>
        <relation destination="images" role="sizerel" />
        <relation destination="audiotapes" role="posrel" />
        <relation destination="videotapes" role="posrel" />
        <relation destination="attachments" role="posrel" />
        <relation destination="urls" role="posrel" />

        &extra_loads;
    </action>

    <action type="delete" />

    <lists>
       <optionlist include="config/option_list/layout.xml" />
       <optionlist include="config/option_list/imagelayout.xml" />
       <optionlist include="config/option_list/images_position.xml" />
       <optionlist include="config/option_list/boolean.xml" />
    </lists>

    <steps>
        <step form-schema="step1" />
        <step form-schema="step2" />
        &extra_steps;
    </steps>

    <form-schema id="step1">
        <title xml:lang="nl">Opleiding invoeren</title>
        <title xml:lang="en">Enter education</title>
        <field name="name" dtminlength="1">
            <prompt xml:lang="nl">Opleiding titel</prompt>
            <prompt xml:lang="en">Education name</prompt>
        </field>
        <field name="showtitle" ftype="enum">
            <prompt xml:lang="nl">Titel tonen</prompt>
            <prompt xml:lang="en">Show title</prompt>
            <optionlist select="boolean" />
        </field>
        <list destination="providers" role="related" extends="config/provider/providers-list.xml" />
        <field name="intro" ftype="${wizards.pages.text.ftype}" dtminlength="0">
            <prompt xml:lang="nl">Alinea tekst</prompt>
            <prompt xml:lang="en">Text</prompt>
        </field>
        <field name="layout" ftype="enum">
            <prompt xml:lang="nl">Layout</prompt>
            <prompt xml:lang="en">Layout</prompt>
            <optionlist select="layout" />
        </field>
        <field name="imagelayout" ftype="enum">
            <prompt xml:lang="nl">Layout afbeeldingen</prompt>
            <prompt xml:lang="en">Layout images</prompt>
            <optionlist select="imagelayout" />
        </field>

        <list role="sizerel" extends="config/image/sizedimages.xml" />
        <list destination="news" extends="config/news/news-list.xml" />
        <list role="posrel" extends="config/attachment/attachments-posrel.xml" />
        <list role="posrel" extends="config/audiotape/audiotapes-posrel.xml" />
        <list role="posrel" extends="config/videotape/videotapes-posrel.xml" />
        <list destination="urls" role="posrel" extends="config/url/urls-posrel.xml" />
        <list destination="learnblocks" role="posrel" extends="config/learnblocks/learnblocks-list.xml" />
        &extra_lists;
        
        <list destination="classes" role="classrel" extends="config/class/classes-list.xml" />

    </form-schema>

    <form-schema id="step2">
        <title xml:lang="nl">Alineas invoeren</title>
        <title xml:lang="en">Enter paragraphs</title>
        <field name="name" ftype="data">
           <prompt xml:lang="nl">Opleiding titel</prompt>
           <prompt xml:lang="en">Education title</prompt>
        </field>
        <field name="showtitle" ftype="enum">
           <prompt xml:lang="nl">Titel tonen</prompt>
           <prompt xml:lang="en">Show title</prompt>
           <optionlist select="boolean" />
        </field>
        <list extends="config/paragraphs/add_paragraphs_posrel.xml"/>
    </form-schema>

    &extra_schemas;
</wizard-schema>
