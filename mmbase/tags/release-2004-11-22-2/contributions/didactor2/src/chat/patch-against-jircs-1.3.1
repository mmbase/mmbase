diff -udwrN orig/jircs-src-1.3.1/java/nl/eo/chat/ChatEngine.java new-logging/java/nl/eo/chat/ChatEngine.java
--- orig/jircs-src-1.3.1/java/nl/eo/chat/ChatEngine.java	2004-06-21 22:27:30.000000000 +0200
+++ new-logging/java/nl/eo/chat/ChatEngine.java	2004-10-26 21:55:31.000000000 +0200
@@ -871,6 +871,10 @@
                         OutgoingMessagePool.putMessage(serverMessage);
                     } else {
                         log.message(user.getNick(), target, text);
+                        ChannelLogger cl = channel.getLogger();
+                        if (cl != null) {
+                           cl.log(user, text);
+                        }
                         Vector users = channel.getUsers();
                         for (int i = 0; i < users.size(); i++) {
                             User u = (User)users.elementAt(i);
@@ -903,6 +907,14 @@
                         OutgoingMessagePool.putMessage(serverMessage);
                     } else {
                         log.message(user.getNick(), target, text);
+		        PrivateLogger pl = user.getPrivateLogger();
+			if (pl != null) {
+			    pl.log(user,u,text);
+			}
+			pl = u.getPrivateLogger();
+			if (pl != null) {
+			    pl.log(user,u,text);
+			}
                         ServerMessage serverMessage = new ServerMessage();
                         serverMessage.setPrefix(user.getNick());
                         serverMessage.setCommand(Message.PRIVMSG);
diff -udwrN orig/jircs-src-1.3.1/java/nl/eo/chat/repository/Channel.java new-logging/java/nl/eo/chat/repository/Channel.java
--- orig/jircs-src-1.3.1/java/nl/eo/chat/repository/Channel.java	2004-06-21 22:27:30.000000000 +0200
+++ new-logging/java/nl/eo/chat/repository/Channel.java	2004-10-25 11:33:21.000000000 +0200
@@ -165,5 +165,9 @@
      */
     public void setDeleteWhenLastUserLeaves(boolean delete);
 
+    /**
+     * Return a logger that can log the messages from this channel
+     */
+    public ChannelLogger getLogger();
 }
 
diff -udwrN orig/jircs-src-1.3.1/java/nl/eo/chat/repository/ChannelLogger.java new-logging/java/nl/eo/chat/repository/ChannelLogger.java
--- orig/jircs-src-1.3.1/java/nl/eo/chat/repository/ChannelLogger.java	1970-01-01 01:00:00.000000000 +0100
+++ new-logging/java/nl/eo/chat/repository/ChannelLogger.java	2004-10-25 11:33:21.000000000 +0200
@@ -0,0 +1,17 @@
+package nl.eo.chat.repository;
+
+import java.util.Collection;
+import java.util.Date;
+import java.util.Vector;
+
+/**
+ * The channellloger interface descibes a logger
+ * that logs all traffic for a specific channel.
+ *
+ * @author Jaco de Groot
+ */
+public interface ChannelLogger {
+    public Channel getChannel();
+    public void log (User user, String message);
+}
+
diff -udwrN orig/jircs-src-1.3.1/java/nl/eo/chat/repository/PrivateLogger.java new-logging/java/nl/eo/chat/repository/PrivateLogger.java
--- orig/jircs-src-1.3.1/java/nl/eo/chat/repository/PrivateLogger.java	1970-01-01 01:00:00.000000000 +0100
+++ new-logging/java/nl/eo/chat/repository/PrivateLogger.java	2004-10-26 21:54:55.000000000 +0200
@@ -0,0 +1,17 @@
+package nl.eo.chat.repository;
+
+import java.util.Collection;
+import java.util.Date;
+import java.util.Vector;
+
+/**
+ * The privatelogger interface descibes a logger
+ * that logs all private traffic from a user to another
+ * and vice versa
+ *
+ * @author Joost Diepenmaat
+ */
+public interface PrivateLogger {
+    public void log (User user, User target, String message);
+}
+
diff -udwrN orig/jircs-src-1.3.1/java/nl/eo/chat/repository/User.java new-logging/java/nl/eo/chat/repository/User.java
--- orig/jircs-src-1.3.1/java/nl/eo/chat/repository/User.java	2004-06-21 22:27:30.000000000 +0200
+++ new-logging/java/nl/eo/chat/repository/User.java	2004-10-26 21:44:37.000000000 +0200
@@ -54,5 +54,7 @@
 
     public Date getLastCommandRecieved();
 
+    public PrivateLogger getPrivateLogger();
+
 }
 
diff -udwrN orig/jircs-src-1.3.1/java/nl/eo/chat/repository/irc/IrcChannel.java new-logging/java/nl/eo/chat/repository/irc/IrcChannel.java
--- orig/jircs-src-1.3.1/java/nl/eo/chat/repository/irc/IrcChannel.java	2004-06-21 22:27:30.000000000 +0200
+++ new-logging/java/nl/eo/chat/repository/irc/IrcChannel.java	2004-10-25 11:33:21.000000000 +0200
@@ -173,5 +173,8 @@
         deleteWhenLastUserLeaves = delete;
     }
 
+    public ChannelLogger getLogger() {
+        return null;
+    }
 }
 
diff -udwrN orig/jircs-src-1.3.1/java/nl/eo/chat/repository/irc/IrcUser.java new-logging/java/nl/eo/chat/repository/irc/IrcUser.java
--- orig/jircs-src-1.3.1/java/nl/eo/chat/repository/irc/IrcUser.java	2004-06-21 22:27:30.000000000 +0200
+++ new-logging/java/nl/eo/chat/repository/irc/IrcUser.java	2004-10-27 00:35:27.000000000 +0200
@@ -137,5 +137,8 @@
         this.socket = socket;
     }
 
+    public PrivateLogger getPrivateLogger() {
+	return null;
+    }	
 }
 
