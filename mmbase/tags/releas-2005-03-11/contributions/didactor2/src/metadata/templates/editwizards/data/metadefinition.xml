<?xml version="1.0"?>
<!DOCTYPE wizard-schema PUBLIC "-//MMBase/DTD editwizard 1.0//EN" "http://www.mmbase.org/dtd/wizard-schema_1_0.dtd">
<wizard-schema id="empty">
  <title>Metadefinition Editor</title>

  <action type="create">
    <object type="metadefinition">
      <relation destination="{$origin}" role="related" />
    </object>
  </action>

  <action type="load">
    <field name="name"/>
    <field name="type"/>
    <field name="required"/>
    <field name="minvalues"/>
    <field name="maxvalues"/>
    <field name="handler"/>
    <field name="description"/>
   <relation destinationtype="metavocabulary" role="related" />
  </action>

  <action type="delete" />

  <lists>
    <optionlist name="metadatatypes">
      <option id="0">Kies het type</option>
      <option id="1">keuzelijst</option>
      <option id="2">datum</option>
      <option id="3">tekenreeks</option>
      <option id="4">duur</option>
    </optionlist>

    <optionlist name="boolean">
      <option id="0">Nee</option>
      <option id="1">Ja</option>
    </optionlist>
  </lists>

  <steps>
    <step form-schema="step1" />
  </steps>

  <form-schema id="step1">
    <title>Metadefinition invoeren</title>

    <field name="name" dtminlength="1">
      <prompt>Metadata naam</prompt>
    </field>

    <field name="description" dtminlength="0" dttype="text">
      <prompt>Metadata omschrijving</prompt>
    </field>

    <field name="type" ftype="enum">
      <prompt>Type</prompt>
      <optionlist select="metadatatypes" />
    </field>

    <field name="required" ftype="enum">
       <prompt>Verplicht</prompt>
       <optionlist select="boolean" />
    </field>

    <field name="minvalues" ftype="int" dtrequired="false">
      <prompt>Minimaal aantal waarden</prompt>
    </field>

    <field name="maxvalues" ftype="int" dtrequired="false">
      <prompt>Maximaal aantal waarden</prompt>
    </field>

    <field name="handler" dtminlength="0">
      <prompt>Classname van een handler om metadata uit te lezen</prompt>
    </field>

    <!-- has to be only visible if type=3, but that's not possible atm -->
    <list destination="metavocabulary" role="related" extends="list/metavocabularydefinition.xml" />


     <!--   <list destination="providers" role="related" extends="list/providers.xml" />
        <list destination="news" extends="list/news.xml" />
        <list destination="learnblocks" role="posrel" extends="list/learnblocks.xml" />
        <list destination="urlcategories" role="related" extends="list/urlcategories.xml" />-->
    </form-schema>
</wizard-schema>
