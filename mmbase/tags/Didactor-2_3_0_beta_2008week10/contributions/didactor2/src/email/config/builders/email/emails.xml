<?xml version="1.0" ?>
<builder
    xmlns="http://www.mmbase.org/xmlns/builder"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
    xsi:schemaLocation="http://www.mmbase.org/xmlns/builder http://www.mmbase.org/xmlns/builder.xsd"
    name="emails" maintainer="didactor.nl" version="3" extends="object">

  <class>nl.didactor.builders.EmailBuilder</class>
  <searchage>31</searchage>

  <names>
    <singular xml:lang="nl">Email</singular>
    <singular xml:lang="en">Email</singular>
    <plural xml:lang="nl">Emails</plural>
    <plural xml:lang="en">Emails</plural>
  </names>

  <descriptions>
    <description xml:lang="nl">Email object</description>
    <description xml:lang="en">Email object</description>
  </descriptions>

  <datatypes xmlns="http://www.mmbase.org/xmlns/datatypes">
    <datatype id="email" base="line">
      <!-- should be a nice, working definition (and ported to mmbase itself then...) -->
    </datatype>
  </datatypes>
  <fieldlist>
    <field name="from">
      <descriptions>
        <description xml:lang="nl">Verzender</description>
        <description xml:lang="en">Sender</description>
      </descriptions>
      <gui>
        <guiname xml:lang="nl">Van</guiname>
        <guiname xml:lang="en">From</guiname>
      </gui>
      <editor>
        <positions>
          <list>1</list>
        </positions>
      </editor>
      <datatype base="email" xmlns="http://www.mmbase.org/xmlns/datatypes" />
      <db>
        <type state="persistent" size="255" notnull="true" key="false">STRING</type>
      </db>
    </field>
    <field name="to">
      <descriptions>
        <description xml:lang="nl">Ontvanger</description>
        <description xml:lang="en">Receipient</description>
      </descriptions>
      <gui>
        <guiname xml:lang="nl">Naar</guiname>
        <guiname xml:lang="en">To</guiname>
      </gui>
      <editor>
        <positions>
          <list>2</list>
        </positions>
      </editor>
      <datatype base="email" xmlns="http://www.mmbase.org/xmlns/datatypes" />
      <db>
        <type state="persistent" size="2048" notnull="true" key="false">STRING</type>
      </db>
    </field>
    <field name="cc">
      <descriptions>
        <description xml:lang="nl">Kopie</description>
        <description xml:lang="en">Carbon copy</description>
      </descriptions>
      <gui>
        <guiname xml:lang="nl">CC</guiname>
        <guiname xml:lang="en">CC</guiname>
      </gui>
      <datatype base="email" xmlns="http://www.mmbase.org/xmlns/datatypes" />
      <db>
        <type state="persistent" size="2048" notnull="true" key="false">STRING</type>
      </db>
    </field>
    <field name="bcc">
      <descriptions>
        <description xml:lang="nl">Verborgen kopie</description>
        <description xml:lang="en">Blind Carbon copy</description>
      </descriptions>
      <gui>
        <guiname xml:lang="nl">BCC</guiname>
        <guiname xml:lang="en">BCC</guiname>
      </gui>
      <datatype base="email" xmlns="http://www.mmbase.org/xmlns/datatypes" />
      <db>
        <type state="persistent" size="2048" notnull="true" key="false">STRING</type>
      </db>
    </field>
    <field name="subject">
      <descriptions>
        <description xml:lang="nl">Onderwerp</description>
        <description xml:lang="en">Subject</description>
      </descriptions>
      <gui>
        <guiname xml:lang="nl">Onderwerp</guiname>
        <guiname xml:lang="en">Subject</guiname>
      </gui>
      <editor>
        <positions>
          <list>3</list>
          <search>1</search>
        </positions>
      </editor>
      <datatype base="line" xmlns="http://www.mmbase.org/xmlns/datatypes">
        <maxLength value="255" />
      </datatype>
    </field>
    <field name="date">
      <descriptions>
        <description xml:lang="nl">Datum</description>
        <description xml:lang="en">Date</description>
      </descriptions>
      <gui>
        <guiname xml:lang="nl">Datum</guiname>
        <guiname xml:lang="en">Date</guiname>
      </gui>
      <editor>
        <positions>
          <list>4</list>
        </positions>
      </editor>
      <datatype base="datetime" xmlns="http://www.mmbase.org/xmlns/datatypes">
        <default value="now" />
      </datatype>
    </field>

    <field name="headers">
      <descriptions>
        <description xml:lang="nl">Headers</description>
        <description xml:lang="en">Headers</description>
      </descriptions>
      <gui>
        <guiname xml:lang="nl">Headers</guiname>
        <guiname xml:lang="en">Headers</guiname>
      </gui>
      <datatype base="field" xmlns="http://www.mmbase.org/xmlns/datatypes">
        <maxLength value="65535" />
      </datatype>
    </field>

    <field name="body">
      <descriptions>
        <description xml:lang="nl">Body</description>
        <description xml:lang="en">Body</description>
      </descriptions>
      <gui>
        <guiname xml:lang="nl">Body</guiname>
        <guiname xml:lang="en">Body</guiname>
      </gui>
      <datatype base="field" xmlns="http://www.mmbase.org/xmlns/datatypes">
        <maxLength value="65535" />
      </datatype>
    </field>

    <field name="mimetype">
      <descriptions>
        <description xml:lang="nl">Mimetype van het body-veld</description>
        <description xml:lang="en">Mimetype of the body-field</description>
      </descriptions>
      <datatype base="eline" xmlns="http://www.mmbase.org/xmlns/datatypes">
        <default value="text/html" />
        <maxLength value="128" />
      </datatype>
    </field>

    <field name="type">
      <descriptions>
        <description xml:lang="nl">Type: 0 = een normale mail, 1 = mail die verzonden moet worden, 2 = nieuw binnengekomen (ongelezen) mail</description>
        <description xml:lang="en">Type: 0 = normail mail, 1 = mail that needs to be sent, 3 = newly arrived (unread) mail</description>
      </descriptions>
      <gui>
        <guiname xml:lang="nl">Type</guiname>
        <guiname xml:lang="en">Type</guiname>
      </gui>
      <editor>
        <positions>
          <list>5</list>
        </positions>
      </editor>
      <datatype base="integer" xmlns="http://www.mmbase.org/xmlns/datatypes">
        <default value="0" />
        <enumeration>
          <entry value="0" xml:lang="nl" display="een normale mail" />
          <entry value="1" xml:lang="nl" display="te verzenden mail" />
          <entry value="2" xml:lang="nl" display="binnengekomen (ongelezen) mail" />
          <entry value="0" xml:lang="en" display="normal mail" />
          <entry value="1" xml:lang="en" display="to be sent mail" />
          <entry value="2" xml:lang="en" display="newly arrived (unread) mail" />
        </enumeration>
      </datatype>
    </field>
  </fieldlist>
</builder>
