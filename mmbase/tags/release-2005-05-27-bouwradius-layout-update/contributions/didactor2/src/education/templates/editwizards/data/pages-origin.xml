<?xml version="1.0"?>
<!DOCTYPE wizard-schema PUBLIC "-//MMBase/DTD editwizard 1.0//EN" "http://www.mmbase.org/dtd/wizard-schema_1_0.dtd">
<wizard-schema id="empty">
    <title>Pagina Editor</title>


    <action type="create">
       <object type="pages">
          <relation destination="$origin" role="posrel" createdir="source"/>
       </object>
    </action>


    <action type="load">
        <relation destination="mmevents" role="related" />
        <relation destination="images" role="sizerel" />
        <relation destination="audiotapes" role="related" />
        <relation destination="videotapes" role="related" />
        <relation destination="attachments" role="related" />
        <relation destination="urls" role="related" />
        <relation destination="competencies" role="needcomp" />
        <relation destination="competencies" role="developcomp" />
        <relation destination="paragraphs" role="posrel">
           <object>
              <relation destination="attachments" role="posrel" />
              <relation destination="images" role="pos2rel" />
              <relation destination="urls" role="posrel" />
           </object>
        </relation>
    </action>


    <action type="delete" />

    <lists>
      <optionlist name="layout">
        <option id="0">Tekst boven</option>
        <option id="1">Tekst onder</option>
        <option id="2">Tekst links</option>
        <option id="3">Tekst rechts</option>
      </optionlist>

      <optionlist name="imagelayout">
        <option id="0">Hozontaal</option>
        <option id="1">Verticaal</option>
      </optionlist>

       <optionlist include="paragraphs/images_position.xml" />
       <optionlist include="paragraphs/boolean.xml" />
    </lists>



    <steps>
        <step form-schema="step1" />
        <step form-schema="step2" />
        <step form-schema="step3" />
    </steps>

        <form-schema id="step1">
        <title>Pagina invoeren</title>
        <field name="name" >
            <prompt>Naam</prompt>
        </field>
        <field name="text" ftype="html" dtminlength="0">
            <prompt>Tekst</prompt>
        </field>
        <field name="layout" ftype="enum">
            <prompt>Layout</prompt>
            <optionlist select="layout" />
        </field>
         <field name="imagelayout" ftype="enum">
            <prompt>Layout afbeeldingen</prompt>
            <optionlist select="imagelayout" />
        </field>

        <list role="sizerel" extends="list/sizedimages.xml" />
     <list role="related" extends="list/attachments.xml" />
       <list role="related" extends="list/audiotapes.xml" />
        <list role="related" extends="list/videotapes.xml" />
        <list destination="urls" role="related" extends="list/urls.xml" />
        <list role="related" extends="list/online.xml" />
    </form-schema>

    <form-schema id="step2">
        <title>Alineas invoeren</title>
        <field name="name" ftype="data"/>
        <field name="showtitle" ftype="enum">
           <prompt xml:lang="nl">Titel laten zien</prompt>
           <prompt xml:lang="en">Show title</prompt>
           <optionlist select="boolean"></optionlist>
        </field>
        <list extends="paragraphs/add_paragraphs_posrel.xml"/>
    </form-schema>

    <form-schema id="step3">
        <title>Competenties invoeren</title>
        <field name="name" ftype="data"/>
        <list extends="list/needcompetencies.xml"/>
        <list extends="list/developcompetencies.xml"/>
    </form-schema>

</wizard-schema>

