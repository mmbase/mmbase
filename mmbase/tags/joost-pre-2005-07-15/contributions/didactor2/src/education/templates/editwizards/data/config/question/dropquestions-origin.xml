<?xml version="1.0"?>
<!DOCTYPE wizard-schema PUBLIC "-//MMBase/DTD editwizard 1.0//EN" "http://www.mmbase.org/dtd/wizard-schema_1_0.dtd">
<wizard-schema id="empty">
    <title>Drag en drop vraag Editor</title>

    <action type="create">
       <object type="dropquestions">
          <relation destination="$origin" role="posrel" createdir="source"/>
          <field name="showtitle">1</field>
          <field name="layout">0</field>
       </object>
    </action>

    <action type="load">
      <relation destination="images" role="dragimagerel" />
      <relation destination="images" role="dropimagerel" />
      <relation destination="feedback" role="related" />
      <relation destination="dropanswers" role="related" />
      <relation destination="metadata" role="related">
          <object type="metadata">
           <relation destination="metalangstring" role="posrel">
              <object type="metalangstring">
                <field name="number"/>
                <field name="language"/>
                <field name="value"/>
              </object>
            </relation>
           <relation destination="metadate" role="posrel">
              <object type="metadate">
                <field name="number"/>
                <field name="value"/>
              </object>
            </relation>
           <relation destination="metavocabulary" role="posrel">
              <object type="metavocabulary">
                <field name="number"/>
                <field name="value"/>
              </object>
            </relation>
            <relation destination="metadefinition" role="related">
              <object type="metadefinition">
                <relation destination="metavocabulary" role="related"/>
              </object>
            </relation>
            </object>
        </relation>
    </action>

    <action type="delete" />

    <lists>
       <optionlist include="option_lists/boolean.xml" />
    </lists>

    <steps>
        <step form-schema="step1" />
        <!-- step form-schema="step2" / -->
    </steps>

    <form-schema id="step1">
        <title>Drag en drop vraag invoeren</title>
        <field name="title" >
            <prompt>Titel</prompt>
        </field>
        <field name="showtitle" ftype="enum">
           <prompt xml:lang="nl">Titel laten zien</prompt>
           <prompt xml:lang="en">Show title</prompt>
           <optionlist select="boolean" />
        </field> 
        <field name="text" ftype="html" dtminlength="0">
            <prompt>Tekst</prompt>
        </field>
   <title>Sleep afbeeldingen</title>
   <list role="dragimagerel" extends="config/image/dragimages.xml"/>
   <title>Doel afbeeldingen</title>
   <list role="dropimagerel" extends="config/image/dropimages.xml"/>

   <list minoccurs="0" maxoccurs="*" ordertype="number" orderby="field[@name='dragnumber']" role="related" destination="dropanswers">
   <title>Goede combinaties</title>
            <item>
                <field name="dragnumber" ftype="line">
                    <prompt>Sleepafbeelding</prompt>
                    <description>Geef hier het volgordenummer van de sleepafbeelding</description>
                </field>
                <field name="dropnumber" ftype="line">
                    <prompt>Doelafbeelding</prompt>
          <description>Geef hier het volgordenummer van de doelafbeelding</description>
                </field>
            </item>

            <action type="create">
                <relation role="related" destinationtype="dropanswers"/>
            </action>

            <command name="startwizard" inline="true" wizardname="dropanswers" objectnumber="new">
                <prompt>Nieuwe combinatie</prompt>
            </command>

        </list>


        <list role="related" extends="config/feedback/feedback-list.xml" />



</form-schema>

    <form-schema id="step2">
        <title>Metadata invoeren</title>
        <list extends="config/metadata/metadatalangstring.xml"/>
        <list extends="config/metadata/metadatadate.xml"/>
        <list extends="config/metadata/metadatavocabulary.xml"/>
    </form-schema>

</wizard-schema>

