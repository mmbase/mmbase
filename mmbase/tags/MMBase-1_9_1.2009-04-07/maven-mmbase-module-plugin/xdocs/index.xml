<?xml version="1.0"?>
<document>
  <properties>
    <title>About MMBase mmbase-module plugin</title>
  </properties>

  <body>
    <section name="About MMBase module plugin">
        <p>
            This plugins enables the physical decomposition of large webapp projects into smaller mmbase-module
            projects. This plugin simplifies the process of assembling web applications from component
            mmbase-module projects. 
        </p>
    </section>
    <section name="installing the plugin">
            <p>
              <source>maven -Dmaven.repo.remote=http://mmapps.sourceforge.net/distributions -DartifactId=maven-mmbbase-module-plugin -DgroupId=mmapps -Dversion=1.0 plugin:download</source>
            </p>
    </section>
    <section name="mmbase module">
        <p>
         You will typically execute:
        </p>
        <p>
            <source>
>maven mmbase-module:install
            </source>
  		</p>
  		<p>
         This will compile the classes, assemble the mmbase-module and install it into the local repository.
        </p>
        <p>
         A single property in your project.properties defines a project as a mmbase module ensuring correct
         behaviour during multiproject:install 
  		</p>
  		<p>
            <source>
maven.multiproject.type=mmbase-module
            </source>
  		</p>
    </section>
    <section name="webapp">
        <p>
          Define the type as you would for any other webapp
        </p>
        <p>
            <source>
maven.multiproject.type=war
            </source>
  		</p>
        <p>
          Create a maven.xml and add the following:
        </p>
            <source>
                    <![CDATA[
<postGoal name="war:webapp">
  <attainGoal name="mmbase-module:obtain-modules"/>
</postGoal>
                    ]]>
            </source>

    </section>
    <section name="mmbase-module plugin dependency">
			<p>
				if you want to use it. make your project depend on the plugin (so it will be downloaded when required). to do this add
				<source><![CDATA[
<dependency>
  <groupId>mmapps</groupId>
  <artifactId>maven-mmbase-module-plugin</artifactId>
  <version>1.0</version>
  <type>plugin</type>
  <url>http://mmapps.sourceforge.net/maven-mmbase-module-plugin/</url>
</dependency>
                    ]]>
            </source>
			</p>
  </section>
  </body>
</document>
