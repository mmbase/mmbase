<?xml version="1.0"?>
<!DOCTYPE wizard-schema PUBLIC "-//MMBase/DTD editwizard 1.0//EN" "http://www.mmbase.org/dtd/wizard-schema_1_0.dtd">
<wizard-schema id="empty">
    <title>Informatiebron Editor</title>

    <action type="create">
        <object type="urlcategories">
        </object>
    </action>

    <action type="load">
      <relation destination="urls" role="related" />
    </action>

    <action type="delete">
      <prompt>Weet u zeker dat u deze informatiebron wilt verwijderen?</prompt>
      <description>Klik hier om deze informatiebron te verwijderen</description>
    </action>

    <steps>
        <step form-schema="step1" />
    </steps>

    <form-schema id="step1">
        <title>Informatiebron invoeren</title>
        <field name="name" >
            <prompt>Naam</prompt>
        </field>
        <field name="description" >
            <prompt>Beschrijving</prompt>
        </field>
        <list destination="urls" role="related">
            <title>Bijbehorende links</title>
            <item>
                <field name="name">
                    <prompt>Naam</prompt>
                    <description>Naam van de link</description>
                </field>
            	<field fdatapath="field[@name='pos']" ftype="data">
                  <prompt>Positie</prompt>
                  <description>Positie van de link in de lijst</description>
                </field>
            </item>

            <action type="create">
                <relation role="related" destinationtype="urls">
                </relation>
            </action>

            <command name="startwizard" inline="true" wizardname="urls" objectnumber="new" />

            <command name="search" nodepath="urls" fields="name" age="7" orderby="number" directions="down" >
                <prompt>Zoeken naar links</prompt>
                <search-filter>
                    <name>Naam bevat</name>
                    <search-fields>name</search-fields>
                </search-filter>
            </command>
        </list>
    </form-schema>
</wizard-schema>
