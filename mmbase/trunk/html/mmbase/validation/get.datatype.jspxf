  <jsp:directive.page
      import="org.mmbase.datatypes.*,java.util.*"
      session="false" />

  <mm:import externid="datatype" jspvar="dt" vartype="string" />
  <jsp:scriptlet>DataType dataType = null;</jsp:scriptlet>
  <mm:present referid="datatype">
    <jsp:scriptlet>dataType = DataTypes.getSystemCollector().getDataType(dt);</jsp:scriptlet>
  </mm:present>
  <mm:notpresent referid="datatype">
    <mm:import externid="field"       required="true" />
    <mm:import externid="nodemanager" required="true" />
    <mm:cloud jspvar="cloud">
      <mm:fieldlist nodetype="$nodemanager" fields="$field" jspvar="field">
        <!-- following code (generating XML) must be delegated to BasicDataType -->
        <jsp:scriptlet>dataType = field.getDataType();</jsp:scriptlet>
      </mm:fieldlist>
    </mm:cloud>
  </mm:notpresent>
