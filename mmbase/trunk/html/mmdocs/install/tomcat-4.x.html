<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
  <title>Install MMBase-war on Tomcat 4.x</title>
   
</head>
<body>
     
<h3>CAUTION THIS IS STILL IN DEVELOPMENT, AND NOT A STABLE SOMETHING</h3>
     
<p> ( in this document current dir is the tomcat directory, all files that
 are added/modified should be readable by user that  runs tomcat, directories
 that are created, should have all rights for the user that runs tomcat)
</p>
      
<ul>
       <li>Install Tomcat</li>
       <li>Make sure the jsp-examples work</li>
       <li>Activate the Application Manager by changing the file conf/tomcat-users.xml
 from:                   
    <pre>    <br>        <span class="comment">&lt;!--<br>          NOTE:  By default, no user is included in the "manager" role required<br>          to operate the "/manager" web application.  If you wish to use this app,<br>          you must define such a user - the username and password are arbitrary.<br>        --&gt;</span><br>        &lt;<span
 class="start-tag">tomcat-users</span>&gt;<br>          &lt;<span
 class="start-tag">user</span><span class="attribute-name"> name</span>=<span
 class="attribute-value">"tomcat" </span><span class="attribute-name">password</span>=<span
 class="attribute-value">"tomcat" </span><span class="attribute-name">roles</span>=<span
 class="attribute-value">"tomcat" </span><span class="attribute-name">/</span>&gt;<br>          &lt;<span
 class="start-tag">user</span><span class="attribute-name"> name</span>=<span
 class="attribute-value">"role1"  </span><span class="attribute-name">password</span>=<span
 class="attribute-value">"tomcat" </span><span class="attribute-name">roles</span>=<span
 class="attribute-value">"role1"  </span><span class="attribute-name">/</span>&gt;<br>          &lt;<span
 class="start-tag">user</span><span class="attribute-name"> name</span>=<span
 class="attribute-value">"both"   </span><span class="attribute-name">password</span>=<span
 class="attribute-value">"tomcat" </span><span class="attribute-name">roles</span>=<span
 class="attribute-value">"tomcat,role1" </span><span
 class="attribute-name">/</span>&gt;<br>        &lt;/<span
 class="end-tag">tomcat-users</span>&gt;<br>     </pre>
           Into something like(notice that secret should be replaced by your
 password)                   
    <pre><br>        &lt;<span class="start-tag">tomcat-users</span>&gt;<br>          &lt;<span
 class="start-tag">user</span><span class="attribute-name"> name</span>=<span
 class="attribute-value">"manager" </span><span class="attribute-name">password</span>=<span
 class="attribute-value">"secret" </span><span class="attribute-name">roles</span>=<span
 class="attribute-value">"manager" </span><span class="attribute-name">/</span>&gt;<br>        &lt;/<span
 class="end-tag">tomcat-users</span>&gt;<span class="end-tag"></span><br>     </pre>
       </li>
       <li>Make the directory temp (only needed for tomcat 4.0.2/3)</li>
       <li>Restart the server, to activate the changes, which were made (nessecary?)</li>
       <li>Install the latest mmbase.war by visiting the following url (use
 the name/password combination which was used inside the conf/tomcat-users.xml):
          http://localhost:8080/manager/install?path=/mmbase&amp;war=jar:http://www.mmbase.org/download/builds/last/mmbase.war!/ 
 	(http://localhost:8080/manager/install?path=/mmbase&amp;war=jar:http://www.mmbase.org:8070/testing/common/lastbuild/mmbase.war!/
 to retrieve it from a running instance of the nightly build itselve)   
     <br>
               Or when you placed it somewhere else:         http://localhost:8080/manager/install?path=/mmbase&amp;war=jar:file:///home/eduard/mmbase/build/mmbase/mmbase.war!/ 
     <br>
               More info at: http://localhost:8080/tomcat-docs/manager-howto.html 
     </li>
       <li>Copy the file webapps/mmbase/WEB-INF/lib/xml-apis.jar to the directory
 common/lib/</li>
       <li>Restart the server, to activate the changes, which were made (nessecary?)</li>
       <li>Visit http://localhost:8080/mmbase/</li>
     
</ul>
   <br>
   
</body>
</html>
