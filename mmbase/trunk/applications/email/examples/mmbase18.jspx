<html
  xmlns="http://www.w3.org/1999/xhtml"
  xmlns:jsp="http://java.sun.com/JSP/Page"
  xmlns:mm="http://www.mmbase.org/mmbase-taglib-2.0">
  <jsp:directive.page session="false" buffer="200kb" />  
  <mm:content language="nl" postprocessor="none">
    <head>
      <title>Modern way to make a mail-form</title>
    </head>
    <body>        
      <mm:cloud method="delegate" authenticate="class">
        <mm:form mode="form">
          <mm:createnode type="email" commitonclose="false">
            <mm:setfield name="subject">Just a demo</mm:setfield>
            <mm:setfield name="to">Michiel.Meeuwissen@omroep.nl</mm:setfield>
            <mm:setfield name="from">&lt;Your address emailadres&gt;</mm:setfield>
            <mm:setfield name="body">Hello, world!</mm:setfield>
            <mm:fieldlist fields="subject,from,cc,body">
              <p><mm:fieldinfo type="guiname" />: <mm:fieldinfo type="input" /> <mm:fieldinfo type="errors" /></p>
            </mm:fieldlist>
            <mm:fieldlist fields="to">
              <p><mm:fieldinfo type="guiname" />: <mm:fieldinfo type="guivalue" escape="links" /></p>
            </mm:fieldlist>
            <input type="submit" name="mail" value="Mail" />
            <mm:valid>
              <mm:import externid="mail" />
              <mm:present referid="mail">
                <mm:commit />
                <mm:function name="mail" />
                <p>Thanks, for sending the above mail</p>
                <!--
                    could e.g. also redirect if you don't want to see the form again.
                -->
              </mm:present>
            </mm:valid>
          </mm:createnode>
        </mm:form>
      </mm:cloud>
    </body>
  </mm:content>
</html>




