<?xml version="1.0"?>
<!DOCTYPE wizard-schema PUBLIC "-//MMBase/DTD editwizard 1.0//EN" "http://www.mmbase.org/dtd/wizard-schema_1_0.dtd">
<wizard-schema id="empty">
  <title xml:lang="nl">Klas Editor</title>
  <title xml:lang="en">Class Editor</title>
  
  <action type="create">
    <object type="classes">
      <relation role="related">
        <object type="mmevents" />
      </relation>
    </object>
  </action>
  
  <action type="load">
    <relation destination="people" role="classrel">
      <object type="people">
        <field name="firstname" />
        <field name="lastname" />
        <relation destinationtype="roles" role="related">
          <object type="roles"/>
        </relation>
      </object>
      <field name="snumber" />
    </relation>
    
    <relation destination="news" role="related">
      <object type="news">
        <field name="title" />
      </object>
    </relation>
    <relation destination="mmevents" role="related" />
    <relation destination="workgroups" role="related" />
  </action>
  
  <action type="delete" />
  
  
  <form-schema id="step1">
    <title xml:lang="nl">Klas Invoeren</title>
    <title xml:lang="en">Enter class</title>
    <field name="name" dtminlength="1">
      <prompt xml:lang="nl">Klas naam</prompt>
      <prompt xml:lang="en">Class name</prompt>
    </field>
    <list destination="mmevents" role="related" minoccurs="1" maxoccurs="*" ordertype="number" orderby="field[@name='start']">
      <title xml:lang="nl">Looptijd van de klas</title>
      <title xml:lang="en">Runtime of the class</title>
      <item>
        <field name="start" ftype="datetime" dttype="datetime">
          <prompt xml:lang="nl">Begin van de klas</prompt>
          <prompt xml:lang="en">Start of the class</prompt>
        </field>
        <field name="stop" ftype="datetime" dttype="datetime">
          <prompt xml:lang="nl">Eind van de klas</prompt>
          <prompt xml:lang="en">End of the class</prompt>
        </field>
      </item>
      
      <action type="create">
        <relation destinationtype="mmevents" role="related">
        </relation>
      </action>
      <command name="startwizard" inline="true" wizardname="config/event/mmevent-class" objectnumber="new" />
    </list>
    
    <list destination="news" extends="config/news/news-list.xml" />
    <list destination="people" extends="config/people/people-list.xml" />
    <list destination="workgroups" extends="config/workgroup/workgroups-list.xml" />
  </form-schema>

</wizard-schema>
