<?xml version="1.0"?>
<!DOCTYPE wizard-schema PUBLIC "-//MMBase/DTD editwizard 1.0//EN" "http://www.mmbase.org/dtd/wizard-schema_1_0.dtd"
[
   <!ENTITY extra_loads SYSTEM "extra_loads.xml">
   <!ENTITY extra_lists SYSTEM "extra_lists.xml">
]>
<wizard-schema id="empty">
  <title xml:lang="nl">Opleiding Editor</title>
  <title xml:lang="en">Education Editor</title>

  <action type="create">
    <object type="educations">
      <relation destination="$origin" role="classrel" createdir="source"/>
      <relation destination="$provider" role="related" createdir="source"/>
    </object>
  </action>

  <action type="load">
    <relation destination="providers" role="related" />
    <relation destination="classes" role="classrel" />
    <relation destination="news" role="related" />
    <relation destination="learnblocks" role="posrel" />
    <relation destination="people" role="rolerel">
      <object type="people">
        <relation destination="roles" role="related">
          <object type="roles"/>
        </relation>
      </object>
    </relation>
    <relation destination="paragraphs" role="posrel">
      <object>
        <relation destination="attachments" role="posrel" />
        <relation destination="images" role="pos2rel" />
        <relation destination="urls" role="posrel" />
      </object>
    </relation>
    <relation destination="images" role="sizerel" />
    <relation destination="audiotapes" role="posrel" />
    <relation destination="videotapes" role="posrel" />
    <relation destination="attachments" role="posrel" />
    <relation destination="urls" role="posrel" />

    &extra_loads;
  </action>

  <action type="delete" />


  <form-schema id="step1">
    <title xml:lang="nl">Opleiding invoeren</title>
    <title xml:lang="en">Enter education</title>
    <field name="name" dtminlength="1">
      <prompt xml:lang="nl">Opleiding titel</prompt>
      <prompt xml:lang="en">Education name</prompt>
    </field>
    <field name="showtitle" />
    <list destination="providers" role="related" extends="config/provider/providers-list.xml" />
    <field name="intro" ftype="html" dtminlength="0" />
    <field name="layout" />
    <field name="imagelayout" />
    <list role="sizerel" extends="config/image/sizedimages.xml" />
    <list destination="news" extends="config/news/news-list.xml" />
    <list role="posrel" extends="config/attachment/attachments-posrel.xml" />
    <list role="posrel" extends="config/audiotape/audiotapes-posrel.xml" />
    <list role="posrel" extends="config/videotape/videotapes-posrel.xml" />
    <list destination="urls" role="posrel" extends="config/url/urls-posrel.xml" />
    <list destination="learnblocks" role="posrel" extends="config/learnblocks/learnblocks-list.xml" />
    &extra_lists;

    <list destination="classes" role="classrel" extends="config/class/classes-list.xml" />

  </form-schema>


  <blocks classification="didactor.wizards.education.schemas" />

</wizard-schema>
