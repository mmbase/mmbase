<?xml version="1.0"?>
<!DOCTYPE wizard-schema PUBLIC "-//MMBase/DTD editwizard 1.0//EN" "http://www.mmbase.org/dtd/wizard-schema_1_0.dtd">
<wizard-schema id="empty">
    <title>Opleiding Editor</title>

    <action type="create">
        <object type="educations">
        </object>
    </action>
    
    <action type="load">
        <relation destination="providers" role="related" />
        <relation destination="classes" role="related" />
        <relation destination="news" role="related" />
        <relation destination="learnblocks" role="posrel" />
        <relation destination="urlcategories" role="related" />
        <relation destination="people" role="rolerel">
          <object type="people">
            <relation destination="roles" role="related">
              <object type="roles"/>
            </relation>
          </object>
        </relation>
        <relation destination="metadata" role="related">
          <object type="metadata">
           <relation destination="metalangstring" role="posrel">
              <object type="metalangstring">
                <field name="number"/>
                <field name="language"/>
                <field name="value"/>
              </object>
            </relation>
           <relation destination="metadate" role="posrel">
              <object type="metadate">
                <field name="number"/>
                <field name="value"/>
              </object>
            </relation>
           <relation destination="metavocabulary" role="posrel">
              <object type="metavocabulary">
                <field name="number"/>
                <field name="value"/>
              </object>
            </relation>
            <relation destination="metadefinition" role="related">
              <object type="metadefinition">
                <relation destination="metavocabulary" role="related"/>
              </object>
            </relation>
            </object>
        </relation>
    </action>

    <action type="delete" />
    
    <steps>
        <step form-schema="step1" />
        <!-- step form-schema="step2" / -->
    </steps>

    <form-schema id="step1">
        <title>Opleiding invoeren</title>
        <field name="name" dtminlength="1">
            <prompt>Opleiding naam</prompt>
        </field>

        <field name="intro" ftype="html" dtminlength="0">
            <prompt>Tekst</prompt>
        </field>

        <list destination="providers" role="related" extends="list/providers.xml" />
        <list destination="news" extends="list/news.xml" />
        <list destination="learnblocks" role="posrel" extends="list/learnblocks.xml" />
        <list destination="classes" role="related" extends="list/classes.xml" />
        <list destination="people" role="rolerel" extends="list/people-education.xml" />
        <list destination="urlcategories" role="related" extends="list/urlcategories.xml" />

    </form-schema>
    <form-schema id="step2">
        <title>Metadata invoeren</title>
        <list extends="list/metadatalangstring.xml"/>
        <list extends="list/metadatadate.xml"/>
        <list extends="list/metadatavocabulary.xml"/>
    </form-schema>
</wizard-schema>
