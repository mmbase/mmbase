<?xml version='1.0' encoding='UTF-8'?>
<!DOCTYPE article PUBLIC "-//OASIS//DTD DocBook XML V4.1.2//EN" "http://www.oasis-open.org/docbook/xml/4.1.2/docbookx.dtd">
<article
><articleinfo
><title
>Cloud Security Configuration</title
><date
>8 april 2003</date
><edition
>$Id: cloud-security.xml,v 1.1 2003-12-03 11:42:57 henk Exp $</edition
><authorgroup
><author
><firstname
>Henk</firstname
><surname
>Hangyi</surname
></author
></authorgroup
><legalnotice
><para
>This software is OSI Certified Open Source Software. OSI Certified is a certification mark of the Open Source Initiative.</para
><para
>The license (Mozilla version 1.0) can be read at the MMBase site. See <ulink
url="http://www.mmbase.org/license"
>http://www.mmbase.org/license</ulink
></para
></legalnotice
><revhistory
><revision
><revnumber
>0.1</revnumber
><date
>4 April 2003</date
><authorinitials
>HH</authorinitials
></revision
></revhistory
></articleinfo
><section
><title
>A security implementation that uses the cloud</title
><para
>Cloud security uses the object mmbaseusers to store information used for authorisation and authentication of users. The two main advantages of this security implementation are that the user administration can be carried out by using a webbrowser (instead of editing a file on the filesystem) and that the users of your MMBase installation are available as objects in the cloud. For instance, it is possible to create groups of users, which are allowed to carry out certain tasks. This document gives an overview on how to install and use the cloud security.</para
></section
><section
><title
>Users, ranks and rights</title
><para
>Users are stored in the object &#34;mmbaseusers&#34;. Users can be added by the user &#39;admin&#39; (default password: &#39;admin2k&#39;). The passwords are stored with an MD5 encryption, and can only be changed by the user itselve, or by the &#39;admin&#39;.</para
><para
>Admin has the admin rank, users that are not logged in have the rank anonymous, all other users have rank user.</para
><para
>For every node in the system the following rules apply:</para
><itemizedlist
><listitem
><para
>Every node can be read</para
></listitem
><listitem
><para
>Admin may do everything, except deleting it&#39;s own usernode</para
></listitem
><listitem
><para
>Normal users may create new objects of the type&#39;s that are not system builders. Objects can belong to a user (only that user and the admin can change it) or they may be shared (all logged in users can change the node). An object can be given the user [shared] by using the JSP editors.</para
></listitem
></itemizedlist
></section
><section
><title
>Installing Cloud Security</title
><para
>To install Cloud Security you have to:</para
><orderedlist
><listitem
><para
>add the builder &#34;mmbaseusers &#34; to your MMBase installation. After adding the builder you have to temporarily turn off security and fill the object &#34;mmbaseusers &#34; by the admin user. E.g. login admin and password admin2k. See the   &#34;Configuring the security framework &#34; on how to switch off security. </para
><para
>Another way to add the builder &#34;mmbaseusers&#34; to your MMBase installation is to load the CloudSecurity application. Refer to the documentation on MMBase applications to see how you can load applications. After loading the CloudSecurity the user admin / admin2k is automatically added to your installation.</para
></listitem
><listitem
><para
>set the authentication and authorization class in the file config\security\security.xml.</para
><programlisting
>&#60;authentication class=&#34;org.mmbase.security.implementation.cloud.Authenticate&#34; url=&#34;&#34; /&#62;</programlisting
><programlisting
>&#60;authorization class=&#34;org.mmbase.security.implementation.cloud.Verify&#34; url=&#34;&#34; /&#62;</programlisting
></listitem
></orderedlist
><note
><para
>It is also possible to only use authentication. When disabling authorization pages can still be secured by a login and password. However MMBase does no longer check whether or not an MMBase user is allowed to create, change or delete an object. To disable authorization use:</para
><programlisting
>&#60;authorization class=&#34;org.mmbase.security.NoAuthorization&#34; url=&#34;&#34; /&#62;</programlisting
></note
></section
></article
>
