<?xml version="1.0"?>
<!DOCTYPE wizard-schema PUBLIC "-//MMBase/DTD editwizard 1.0//EN" "http://www.mmbase.org/dtd/wizard-schema_1_0.dtd"
 [
    <!ENTITY formats SYSTEM "parts/formats.xml">
    <!ENTITY itemize SYSTEM "parts/itemize.xml">
  ]
>
<wizard-schema id="media">
	<title>Media editor</title>

	<action type="create">
		<object type="mediafragments">
			<field name="title">Don't forget to add a title</field>
		</object>
	</action>
	
	<action type="delete" />
	
	<action type="load">
		<relation destination="mediasources"   role="related" />
		<relation destination="mediafragments" role="parent" />
	</action>

  &formats;

	<form-schema id="basics">
		<title>Media Editor</title>
		<field name="title" />
		<field name="subtitle" />
		<field name="intro" />
		
		<list role="related" destination="mediasources" minoccurs="1" >
      <title>Sources</title>       
      <title xml:lang="nl">Bronnen</title>       
      <item>
        <field name="url">
          <prompt>Url (relative)</prompt>
          <prompt xml:lang="nl">Url (relatief)</prompt>
        </field>
        <field ftype="enum" name="format">
          <optionlist select="formats" />
        </field>
      </item>
			<action type="create">
				<relation  role="related">
          <object type="mediasources" />
        </relation>
			</action>
		</list>
  </form-schema>

  &itemize;

</wizard-schema>
