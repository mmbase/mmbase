<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mediasourcefilter SYSTEM "http://www.mmbase.org/dtd/mediasourcefilter_1_0.dtd" [
 <!ENTITY % configs "preferredSource , realaudio">
 <!ENTITY % format SYSTEM "http://www.mmbase.org/dtd/formatcomparator_1_0.dtd" >
 <!ENTITY % real   SYSTEM "http://www.mmbase.org/dtd/realcomparator_1_0.dtd" >
 %format;
 %real;
]>
<mediasourcefilter  xmlns:node ="http://www.mmbase.org/dtd/realcomparator_1_0.dtd">
	<!-- 
  Define the chain of filters, the filter that has to filter first
  has to be mentioned as first. A filter is specified or by the classname
  (class needs ResponseInfoComparator).
		-->
	<chain>
		<filter>org.mmbase.util.media.AvailableComparator</filter>
		<filter>org.mmbase.util.media.FormatComparator</filter>
		<filter>org.mmbase.util.media.RealComparator</filter>
	</chain>

  <filterConfigs>
    <!-- 
    Configuration of FormatComparator 
    // TODO: should we not use 'id'-att's-on-the chain-filters/'filter'-att-on-config-entry, to point to the right filterConfig?
    //       This current setup makes it impossible to have 2 filters with same config-dtd main tag.
    //       Also the impl. of the comparators can then be little simplified because finding the root config element then can be let to MediaSoureFilter itself.
    Define the sequence of preference of the servers.
    -->
    <preferredSource>    
      <source format="asf" />
      <source format="rm" />
      <source format="ra" />
    </preferredSource>
    

    <!-- 
    Configuration of RealComparator
    Used to specify realaudio preferences.
    -->
    <realaudio>
      <minspeed>16000</minspeed>
      <maxspeed>96000</maxspeed>
      <minchannels>1</minchannels>
      <maxchannels>2</maxchannels>
    </realaudio>

  </filterConfigs>
</mediasourcefilter>
