<!-- ===========================================================================

Applications build file

================= -->
<project name="MMBase" default="all" basedir=".">

  <!-- =================================================================== -->
  <!-- Init                                                                -->
  <!-- =================================================================== -->
  <!-- Read customized values if available -->
  <property file="build.properties"/>
  <!-- Default values for properties that can be customized -->

  <property name="source.dir"   location=".." />

  <property file="${source.dir}/build.properties" />

  <property name="build.dir"    value="${source.dir}/build" />
  <property name="download.dir" value="${build.dir}/download" />
  <property name="expand.dir"   value="${download.dir}/expanded" />
  <property name="download.zip" value="mmbase-downloads.zip"  />

  <property name="applications.build.dir" location="./build" />

  <!-- override projects jar dir -->
  <property name="project.jar.dir"        value="${applications.build.dir}" />

  <target name="init">
    <mkdir dir="${applications.build.dir}" />
  </target>

  <target name="all" depends="init,editwizard,media" />

  <target name="mmbase">
    <ant dir="${source.dir}" target="jar" />
    <ant dir="${source.dir}" target="lib.compile" />
    <ant dir="${source.dir}" target="expand.hsqldb" />
  </target>

  <target name="media" depends="mmbase,editwizard">
     <ant dir="media"      target="jar" />
  </target>

  <target name="editwizard" depends="mmbase">
     <ant dir="editwizard" target="jar" />
     <ant dir="editwizard" target="jspsmartupload" />
  </target>

  <target name="clean">
     <ant dir="media"      target="clean" />
     <ant dir="editwizard" target="clean" />
      <delete dir="${applications.build.dir}" />
  </target>

</project>
