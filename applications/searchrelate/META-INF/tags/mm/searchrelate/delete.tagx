<jsp:root
    xmlns:jsp="http://java.sun.com/JSP/Page"
    xmlns:mm="http://www.mmbase.org/mmbase-taglib-2.0"
    xmlns:c="http://java.sun.com/jsp/jstl/core"
    version="2.0"
    >
  <!--
      @author Michiel Meeuwissen
      @version $Id: delete.tagx,v 1.4 2008-06-05 14:25:50 michiel Exp $
  -->
  <jsp:directive.tag
      example="See /mmexamples/searchrelate"
      description="Used in li's of mm-sr:relatednodes. Produces the 'delete this item' button." />

  <jsp:directive.attribute name="icondir"      type="java.lang.String" />
  <jsp:directive.attribute name="source"       required="true" />
  <jsp:directive.attribute name="confirm"      type="java.lang.Boolean"
                           description="Whether deleting must be confirmed"
                           />


  <mm:import id="icons">${empty icondir ? '/mmbase/style/images' : icondir}</mm:import>
  <mm:import id="deleteicon">${icons}/delete.png</mm:import>


  <mm:link page="/mmbase/searchrelate/list/delete.jspx" referids="_node@n,source">
    <a class="delete ${empty confirm or ! confirm ? '' : 'confirm'}"
       href="${_}">
      <img class="icon" alt="-"
           src="${mm:link(deleteicon)}" />
    </a>
  </mm:link>

</jsp:root>
